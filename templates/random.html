{% extends "base.html" %}

{% block title %}Random Book - Booklet{% endblock %}

{% block content %}
<div class="random-container">
    <h1>Random Book Selector</h1>

    <div class="random-button-container">
        <button class="btn-random" hx-post="/random/select" hx-target="#randomResult" hx-swap="innerHTML">
            <i class="fa fa-random" aria-hidden="true"></i> Pick Random Book
        </button>
    </div>

    <div id="randomResult">
        <!-- Random book will appear here -->
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
    // Add some visual feedback when button is clicked
    document.addEventListener('htmx:beforeRequest', function(evt) {
        const btn = evt.detail.elt;
        if (btn.classList.contains('btn-random')) {
            btn.textContent = 'Rolling...';
            btn.disabled = true;
        }
    });

    document.addEventListener('htmx:afterRequest', function(evt) {
        const btn = evt.detail.elt;
        if (btn.classList.contains('btn-random')) {
            btn.textContent = 'Pick Random Book';
            btn.disabled = false;
        }
    });
</script>
{% endblock %}